<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>쇼핑몰</title>
    <link rel="stylesheet" href="css/product.css">
</head>
<body>
    <div id="container">
        <h1 id="heading">태블릿</h1>
        <div id="product-pic">
            <img id="product" src="images/product1.jpg" alt="일체형 컴퓨터" width="400" height="400">
            <div id="small-pic">
                <!--
                <img src="images/product-1-1.jpg" class="small" width="100" height="100">
                <img src="images/product-1-2.jpg" class="small" width="100" height="100">
                <img src="images/product-1-3.jpg" class="small" width="100" height="100">
                <img src="images/product-1-4.jpg" class="small" width="100" height="100">
                -->
                <img src="images/product1.jpg" class="small">
                <img src="images/product2.jpg" class="small">
                <img src="images/product3.jpg" class="small">
                <img src="images/product4.png" class="small">
            </div>            
        </div>

        <div id="desc">
            <ul>
                <li>상품명: 태블릿</li>
                <li class="pricetext">판매가: 990,000원</li>
                <li>배송비: 3,000원</li>
                <button id="buy-btn" onclick="openBox()">구매하기</button>
                <div id="buy-box">
                    <p>구매하기 창</p>
                    <button id="buy-btn" onclick="buyPopup()">결제화면으로 이동</button>
                    <button onclick="closeBox()">닫기</button>
                </div>
                <button id="cart-btn" onclick="cartPopup()">장바구니</button>
            </ul>
            <a herf="#" id="view">상세설명보기</a>
        </div>

        <div id="detail">
            <hr>
            <h2>상품상세정보</h2>
            <ul>
                <li>판매자: G마킷</li>
                <li>제조사: 삼성전자</li>
                <li>RAM: 32GB</li>
                <li>HDD: 4TB</li>
                <li>SSD: 1TB</li>
            </ul>
            <h3>상품특징</h3>
            <p>고성능 프로세서를 탑재한 전문자용으로서 멀티태스킹 환경에서
                최적화된 빠른 처리를 수행할 수 있습니다.
            </p>
        </div>
    </div>

    <script>
        var product = document.querySelector("#product"); // id는 querySelector로
        var smalls = document.querySelectorAll(".small"); // class는 querySelectorAll로

        for(var cnt=0; cnt < smalls.length; cnt++) {
            smalls[cnt].addEventListener("click", largeProduct); // 클릭했을때 사진이 크게보이도록
        }

        function largeProduct() {
            var smallpic = this.getAttribute("src"); // smallpic들을 클릭하면 위에서 크게보이도록
            product.setAttribute("src", smallpic); // product는 큰사진을 뜻함.
        }

        var isView = false;
        var view = document.querySelector("#view");
        view.addEventListener("click", function() {
            if(isView) {
                document.querySelector("#detail").style.display = "none";
                view.innerHTML = "상세설명보기";
            }
            else {
                document.querySelector("#detail").style.display = "block";
                view.innerHTML = "상세설명닫기";
            }

            isView = !isView; // 계속 누를수 있게끔 - 이거없으면 돌아오지않음.
        });

        function openBox() {
            document.getElementById('buy-box').style.display = 'block';
        }
        function closeBox() {
            document.getElementById('buy-box').style.display = 'none';
        }

        function cartPopup() {
            document.getElementById('cart-btn');
            confirm("장바구니로 이동하시겠습니까?")
        }

        function buyPopup() {
            document.getElementById('buy-btn');
            confirm(" 결제화면으로 이동하시겠습니까?")
        }

        var isBuy = false;
        var Btn = document.querySelector("#buy-btn");
        Btn.addEventListener("click", function() {
            if(isBuy) {
                document.querySelector("#buy-box").style.display = "none";
                Btn.innerHTML = "구매하기창 보기";
            }
            else {
                document.querySelector("#buy-box").style.display = "block";
                Btn.innerHTML = "구매하기창 닫기";
            }

            isBuy = !isBuy; // 계속 누를수 있게끔 - 이코드 없으면 돌아오지않음.
        });

    </script>
</body>
</html>